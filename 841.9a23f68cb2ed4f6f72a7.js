"use strict";(self.webpackChunkadmincarrito=self.webpackChunkadmincarrito||[]).push([[841],{8841:(Ge,N,s)=>{s.r(N),s.d(N,{PedidoModule:()=>je});var f=s(8583),E=s(4655),v=s(4457),g=s(1494),c=s(2789),_=s(9765),I=s(6782),p=s(3679),C=s(2238),$=s(8259),D=s.n($),h=s(1102),F=s(1777),L=s.t(F,2),e=s(7716),P=s(205),d=s(5304),a=s(2340),T=s(1841);let Y=(()=>{class o{constructor(t){this.http=t,this._listenersPedidoProducto=new _.xQ}getTodosPedidoProducto(){return this.http.get(`${a.N.API_URL}/pedido-produ/pedidoproductos`).pipe((0,d.K)(this.handlerError))}getPedidoProductoId(t){return this.http.get(`${a.N.API_URL}/pedido-produ/${t}`).pipe((0,d.K)(this.handlerError))}getPedidoProductoPdfId(t){return this.http.get(`${a.N.API_URL}/pedido-produ/${t}`).pipe((0,d.K)(this.handlerError))}getClienteUsuarioId(t){return this.http.get(`${a.N.API_URL}/cliente/getclienteUsuario/${t}`).pipe((0,d.K)(this.handlerError))}getClienteUsuarioPdfId(t){return this.http.get(`${a.N.API_URL}/cliente/getclienteUsuario/${t}`).pipe((0,d.K)(this.handlerError))}newPedido(t){return this.http.post(`${a.N.API_URL}/pedidoproducto/createPedidoProducto`,t).pipe((0,d.K)(this.handlerError))}updatePedidoProducto(t,r){return this.http.put(`${a.N.API_URL}/pedidoproducto/put/${t}`,r).pipe((0,d.K)(this.handlerError))}updatePedidoProductoStock(t){return this.http.post(`${a.N.API_URL}/producto/restaStock`,t).pipe((0,d.K)(this.handlerError))}deletePedidoProducto(t){return this.http.delete(`${a.N.API_URL}/pedidoproducto/delete/${t}`).pipe((0,d.K)(this.handlerError))}handlerError(t){let r="Error desconocido";return t&&(r=`Error ${t.message}`),window.alert(r),(0,P._)(r)}listenPedidoProducto(){return this._listenersPedidoProducto.asObservable()}filterPedidoProducto(t){this._listenersPedidoProducto.next(t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(T.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),R=(()=>{class o{constructor(t){this.http=t,this._listenersPedido=new _.xQ}getTodosPedido(){return this.http.get(`${a.N.API_URL}/pedido/pedidos`).pipe((0,d.K)(this.handlerError))}getPedidoId(t){return this.http.get(`${a.N.API_URL}/pedido/${t}`).pipe((0,d.K)(this.handlerError))}newPedido(t){return this.http.post(`${a.N.API_URL}/pedido/createPedido`,t).pipe((0,d.K)(this.handlerError))}updatePedido(t){return this.http.put(`${a.N.API_URL}/pedido/${t}`,null).pipe((0,d.K)(this.handlerError))}updatePedidoEnviado(t){return this.http.put(`${a.N.API_URL}/pedido/enviado/${t}`,null).pipe((0,d.K)(this.handlerError))}deletePedido(t){return this.http.delete(`${a.N.API_URL}/pedido/delete/${t}`).pipe((0,d.K)(this.handlerError))}handlerError(t){let r="Error desconocido";return t&&(r=`Error ${t.message}`),window.alert(r),(0,P._)(r)}listenPedido(){return this._listenersPedido.asObservable()}filterPedido(t){this._listenersPedido.next(t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(T.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),q=(()=>{class o{constructor(t){this.http=t,this._listenersRepartidor=new _.xQ}getTodosRepartidor(){return this.http.get(`${a.N.API_URL}/repartidor/repartidores`).pipe((0,d.K)(this.handlerError))}getTodosRepartidorUsers(){return this.http.get(`${a.N.API_URL}/rol/rolesRepartidor`).pipe((0,d.K)(this.handlerError))}getRepartidorId(t){return this.http.get(`${a.N.API_URL}/img-Repartidor/${t}`).pipe((0,d.K)(this.handlerError))}newRepartidor(t){return this.http.post(`${a.N.API_URL}/repartidor/createRepartidor`,t).pipe((0,d.K)(this.handlerError))}updateRepartidor(t,r){return this.http.put(`${a.N.API_URL}/Repartidor/${t}`,r).pipe((0,d.K)(this.handlerError))}deleteRepartidor(t){return this.http.delete(`${a.N.API_URL}/Repartidor/delete/${t}`).pipe((0,d.K)(this.handlerError))}getRoles(){return this.http.get(`${a.N.API_URL}/rol/roles`).pipe((0,d.K)(this.handlerError))}handlerError(t){let r="Error desconocido";return t&&(r=`Error ${t.message}`),window.alert(r),(0,P._)(r)}listenRepartidor(){return this._listenersRepartidor.asObservable()}filterRepartidor(t){this._listenersRepartidor.next(t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(T.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var Q=s(8629);let V=(()=>{class o{constructor(t){this.http=t,this._listenersVendedor=new _.xQ}getTodosVendedor(){return this.http.get(`${a.N.API_URL}/vendedor/vendedores`).pipe((0,d.K)(this.handlerError))}getTodosVendedorUsers(){return this.http.get(`${a.N.API_URL}/rol/rolesUsers`).pipe((0,d.K)(this.handlerError))}getVendedorId(t){return this.http.get(`${a.N.API_URL}/vendedor/${t}`).pipe((0,d.K)(this.handlerError))}newVendedor(t){return this.http.post(`${a.N.API_URL}/vendedor/createVendedor`,t).pipe((0,d.K)(this.handlerError))}updateVendedor(t,r){return this.http.put(`${a.N.API_URL}/Vendedor/${t}`,r).pipe((0,d.K)(this.handlerError))}updateVendedorEnviado(t){return this.http.put(`${a.N.API_URL}/Vendedor/enviado/${t}`,null).pipe((0,d.K)(this.handlerError))}deleteVendedor(t){return this.http.delete(`${a.N.API_URL}/Vendedor/delete/${t}`).pipe((0,d.K)(this.handlerError))}getRoles(){return this.http.get(`${a.N.API_URL}/rol/roles`).pipe((0,d.K)(this.handlerError))}handlerError(t){let r="Error desconocido";return t&&(r=`Error ${t.message}`),window.alert(r),(0,P._)(r)}listenVendedor(){return this._listenersVendedor.asObservable()}filterVendedor(t){this._listenersVendedor.next(t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(T.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var k=s(1769),Z=s(8295),w=s(9983),B=s(7441),O=s(1095),J=s(2458);function K(o,i){1&o&&(e.TgZ(0,"th",30),e._uU(1," ID "),e.qZA())}function j(o,i){if(1&o&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.idpedidoproducto," ")}}function z(o,i){1&o&&(e.TgZ(0,"th",30),e._uU(1," CANTIDAD "),e.qZA())}function H(o,i){if(1&o&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.cantidad," ")}}function G(o,i){1&o&&(e.TgZ(0,"th",30),e.TgZ(1,"label"),e._uU(2,"PRECIO"),e._UZ(3,"br"),e._uU(4," UNIDAD"),e.qZA(),e.qZA())}function W(o,i){if(1&o&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.precio_uni," ")}}function X(o,i){1&o&&(e.TgZ(0,"th",30),e._uU(1," PRECIO"),e._UZ(2,"br"),e._uU(3," TOTAL "),e.qZA())}function ee(o,i){if(1&o&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.precio_total," ")}}function te(o,i){1&o&&(e.TgZ(0,"th",30),e._uU(1," NOMBRE "),e.qZA())}function oe(o,i){if(1&o&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.productonombre," ")}}function re(o,i){1&o&&e._UZ(0,"tr",33)}function ie(o,i){1&o&&e._UZ(0,"tr",34)}function ne(o,i){1&o&&(e.TgZ(0,"th",30),e._uU(1," CI "),e.qZA())}function de(o,i){if(1&o&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.ci," ")}}function ae(o,i){1&o&&(e.TgZ(0,"th",30),e._uU(1," NOMBRE "),e.qZA())}function se(o,i){if(1&o&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.nombre," ")}}function ce(o,i){1&o&&(e.TgZ(0,"th",30),e._uU(1," PATERNO "),e.qZA())}function le(o,i){if(1&o&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.paterno," ")}}function pe(o,i){1&o&&(e.TgZ(0,"th",30),e._uU(1," MATERNO "),e.qZA())}function ue(o,i){if(1&o&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.materno," ")}}function me(o,i){1&o&&(e.TgZ(0,"th",30),e._uU(1," CELULAR "),e.qZA())}function he(o,i){if(1&o&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.celular," ")}}function fe(o,i){1&o&&(e.TgZ(0,"th",30),e._uU(1," DIRECCI\xd3N "),e.qZA())}function ge(o,i){if(1&o&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.direccion," ")}}function _e(o,i){1&o&&e._UZ(0,"tr",33)}function Ce(o,i){1&o&&e._UZ(0,"tr",34)}function ve(o,i){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.getErrorMessageVenta("observacion")," ")}}function Pe(o,i){if(1&o&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.idusuario),e.xp6(1),e.AsE("",t.nombre," ",t.paterno,"")}}function Te(o,i){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.getErrorMessageVendedor("user")," ")}}function Ze(o,i){if(1&o&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.idusuario),e.xp6(1),e.AsE("",t.nombre," ",t.paterno,"")}}function xe(o,i){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.getErrorMessageRepartidor("user")," ")}}const Ae=function(){return[5,10,25,100]};h.pp.setFonts(L);var x=(()=>{return(o=x||(x={})).EDIT="edit",o.NEW="new",x;var o})();let Ue=(()=>{class o{constructor(t,r,n,l,u,A){this.pedidoproductoService=t,this.data=r,this.pedidoService=n,this.repartidorService=l,this.ventaService=u,this.vendedorService=A,this.actionTODO=x.NEW,this.formBuilder=new p.qu,this.responsePedidoProductu=[],this.myVendedor=[],this.myRepartidor=[],this.displayedColumns=["idpedidoproducto","cantidad","precio_uni","precio_total","productonombre"],this.displayedColumnsUsuario=["ci","nombre","paterno","materno","celular","direccion"],this.dataSource=new c.by,this.dataSourceUsuario=new c.by,this.destroy$=new _.xQ,this.vendedorForm=this.formBuilder.group({user:["",[p.kI.required]]}),this.ventaForm=this.formBuilder.group({vendedor:[""],pedido:[""],observacion:[""],estadopedido:[""]}),this.RepartidorForm=this.formBuilder.group({fecha:[""],hora:[""],user:["",[p.kI.required]],pedidos:[""],estado:[""]}),this.applyFilter=m=>{this.dataSource.filter=m.trim().toLocaleLowerCase(),this.dataSource.filter=m.trim().toLocaleLowerCase()}}ngOnInit(){var t,r;if(this.vendedorService.getTodosVendedorUsers().subscribe(n=>{this.myVendedor=n}),this.repartidorService.getTodosRepartidorUsers().subscribe(n=>{this.myRepartidor=n}),null===(t=this.data)||void 0===t?void 0:t.pedidos.hasOwnProperty("idpedido")){setTimeout(()=>{},0);const n=null===(r=this.data)||void 0===r?void 0:r.pedidos.idpedido;this.ObtenerListaPedidoProducto(n),this.pedidoproductoService.getPedidoProductoId(n).subscribe(l=>{console.log("esto es pedi productos",l)})}}ObtenerListaPedidoProducto(t){this.pedidoproductoService.getPedidoProductoId(t).subscribe(r=>{this.dataSource.data=r,this.ObtenerListaUsuario(r[0].idcliente),this.dataSource.paginator=this.paginator})}ObtenerListaUsuario(t){this.pedidoproductoService.getClienteUsuarioId(t).subscribe(r=>{this.dataSourceUsuario.data=r,console.log("son los clienteusuario ",r)})}ModificarEstadoPedido(t){this.pedidoService.updatePedido(t).subscribe()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSourceUsuario.sort=this.sort}ngOnDestroy(){this.destroy$.next({}),this.destroy$.complete()}onSave(){const r=this.ventaForm.value,n=this.RepartidorForm.value;this.vendedorService.newVendedor(this.vendedorForm.value).subscribe(l=>{var u;r.vendedor=l.idvendedor,r.pedido=null===(u=this.data)||void 0===u?void 0:u.pedidos.idpedido,r.estadopedido="ENVIADO",this.ventaService.newVenta(r).subscribe(A=>{var m;const b=(0,f.p6)(new Date,"yyyy-MM-dd","en_US"),U=(0,f.p6)(new Date,"hh:mm:ss","en_US");n.fecha=b,n.hora=U,n.pedidos=null===(m=this.data)||void 0===m?void 0:m.pedidos.idpedido,n.estado="ENVIADO",this.repartidorService.newRepartidor(n).subscribe(Xe=>{var M;const y=null===(M=this.data)||void 0===M?void 0:M.pedidos.idpedido;this.pedidoService.updatePedidoEnviado(y).subscribe(S=>{}),this.pedidoproductoService.getPedidoProductoId(y).subscribe(S=>{this.responsePedidoProductu=S,console.log("holiss",this.responsePedidoProductu),this.pedidoproductoService.updatePedidoProductoStock(this.responsePedidoProductu).subscribe(ze=>{D().fire({title:"Aviso",text:`'  conjunto de productos abastecer '${ze}`,icon:"warning",showCloseButton:!0}).then(He=>{})})})})})})}isValidFieldVendedor(t){return(this.vendedorForm.get(t).touched||this.vendedorForm.get(t).dirty)&&!this.vendedorForm.get(t).valid}getErrorMessageVendedor(t){var r;let n;return this.vendedorForm.get(t).errors.required?n=" Este campo es requerido":this.vendedorForm.get(t).hasError("pattern")?n="No es correo v\xe1lido":this.vendedorForm.get(t).hasError("minlength")&&(n=`Este campo requiere un m\xednimo de ${null===(r=this.vendedorForm.get(t).errors)||void 0===r?void 0:r.minlength.requiredLength} caracteres`),n}checkFieldVendedor(t){return this.isValidFieldVendedor(t)}isValidFieldVenta(t){return(this.ventaForm.get(t).touched||this.ventaForm.get(t).dirty)&&!this.ventaForm.get(t).valid}getErrorMessageVenta(t){var r;let n;return this.ventaForm.get(t).errors.required?n=" Este campo es requerido":this.ventaForm.get(t).hasError("pattern")?n="No es correo v\xe1lido":this.ventaForm.get(t).hasError("minlength")&&(n=`Este campo requiere un m\xednimo de ${null===(r=this.ventaForm.get(t).errors)||void 0===r?void 0:r.minlength.requiredLength} caracteres`),n}checkFieldVenta(t){return this.isValidFieldVenta(t)}isValidFieldRepartidor(t){return(this.RepartidorForm.get(t).touched||this.RepartidorForm.get(t).dirty)&&!this.RepartidorForm.get(t).valid}getErrorMessageRepartidor(t){var r;let n;return this.RepartidorForm.get(t).errors.required?n=" Este campo es requerido":this.RepartidorForm.get(t).hasError("pattern")?n="No es correo v\xe1lido":this.RepartidorForm.get(t).hasError("minlength")&&(n=`Este campo requiere un m\xednimo de ${null===(r=this.RepartidorForm.get(t).errors)||void 0===r?void 0:r.minlength.requiredLength} caracteres`),n}checkFieldRepartidor(t){return this.isValidFieldRepartidor(t)}createPdf(){var t,r;const n=new h.pp,l=null===(t=this.data)||void 0===t?void 0:t.pedidos.idpedido,u=null===(r=this.data)||void 0===r?void 0:r.pedidos.precio,A=(0,f.p6)(new Date,"dd-MM-yyyy","en_ES");this.pedidoproductoService.getPedidoProductoPdfId(l).subscribe(m=>{this.pedidoproductoService.getClienteUsuarioPdfId(m[0].idcliente).subscribe(U=>{n.pageMargins([50,60]),n.add(new h.Txt("MICROMARKET HOME SERVICE").bold().fontSize(14).end),n.add("DIRECCI\xd3N: Zona Zenkata"),n.add("\n\n"),n.add(new h.Txt("FECHA: "+A).alignment("right").fontSize(11).end),n.add("DATOS CLIENTE :"),n.add("\n"),n.add(this.createTableUser(U)),n.add("\n\n\n"),n.add(new h.Txt("CONSUMO").alignment("center").bold().fontSize(14).end),n.add("\n\n"),n.add(this.createTable(m)),n.add("\n"),n.add(new h.Txt("COSTO TOTAL BS.: "+u).alignment("justify").end),n.create().open()})})}createTable(t){return new h.Table([["ID","CANTIDAD","PRECIO UNIDAD","PRECIO TOTAL","NOMBRE PRODUCTO"],...this.extractData(t)]).end}extractData(t){return t.map(r=>[r.idpedidoproducto,r.cantidad,r.precio_uni,r.precio_total,r.productonombre])}createTableUser(t){return new h.Ul([...this.extractDataUser(t)]).end}extractDataUser(t){return t.map(r=>[`CI: ${r.ci}`,`NOMBRE: ${r.nombre} ${r.paterno} ${r.materno}`,`CELULAR: ${r.celular}`,`DIRECCI\xd3N: ${r.direccion}`])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Y),e.Y36(C.WI),e.Y36(R),e.Y36(q),e.Y36(Q.H),e.Y36(V))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-modalpedido"]],viewQuery:function(t,r){if(1&t&&(e.Gf(g.YE,5),e.Gf(v.NW,5)),2&t){let n;e.iGM(n=e.CRH())&&(r.sort=n.first),e.iGM(n=e.CRH())&&(r.paginator=n.first)}},decls:78,vars:19,consts:[[1,"detall-pedido"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","idpedidoproducto"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","cantidad"],["matColumnDef","precio_uni"],["mat-cell","","class","center",4,"matCellDef"],["matColumnDef","precio_total"],["matColumnDef","productonombre"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"paginator",3,"pageSizeOptions","pageSize"],["matColumnDef","ci"],["matColumnDef","nombre"],["matColumnDef","paterno"],["matColumnDef","materno"],["matColumnDef","celular"],["matColumnDef","direccion"],[1,"modal-form"],[3,"formGroup"],[1,"full-width-input-medio"],["formControlName","observacion","matInput","","placeholder","Observaci\xf3n"],[4,"ngIf"],[1,"full-width-input"],["formControlName","user","required",""],[3,"value",4,"ngFor","ngForOf"],["mat-button","","color","primary",1,"btn-cancel",3,"click"],["mat-button","","mat-dialog-close","",1,"btn-actionsCancel"],["mat-raised-button","","color","primary","ckdFocusInitial","",1,"btn-actionsSave",3,"mat-dialog-close","disabled","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",1,"center"],["mat-header-row",""],["mat-row",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h1"),e._uU(2,"DETALLES DE PEDIDOS"),e.qZA(),e.qZA(),e.TgZ(3,"table",1),e.ynx(4,2),e.YNc(5,K,2,0,"th",3),e.YNc(6,j,2,1,"td",4),e.BQk(),e.ynx(7,5),e.YNc(8,z,2,0,"th",3),e.YNc(9,H,2,1,"td",4),e.BQk(),e.ynx(10,6),e.YNc(11,G,5,0,"th",3),e.YNc(12,W,2,1,"td",7),e.BQk(),e.ynx(13,8),e.YNc(14,X,4,0,"th",3),e.YNc(15,ee,2,1,"td",4),e.BQk(),e.ynx(16,9),e.YNc(17,te,2,0,"th",3),e.YNc(18,oe,2,1,"td",4),e.BQk(),e.YNc(19,re,1,0,"tr",10),e.YNc(20,ie,1,0,"tr",11),e.qZA(),e._UZ(21,"mat-paginator",12),e._UZ(22,"br"),e._UZ(23,"br"),e._UZ(24,"mat-divider"),e.TgZ(25,"div",0),e.TgZ(26,"h1"),e._uU(27,"DETALLES DE USUARIO"),e.qZA(),e.qZA(),e.TgZ(28,"table",1),e.ynx(29,13),e.YNc(30,ne,2,0,"th",3),e.YNc(31,de,2,1,"td",4),e.BQk(),e.ynx(32,14),e.YNc(33,ae,2,0,"th",3),e.YNc(34,se,2,1,"td",4),e.BQk(),e.ynx(35,15),e.YNc(36,ce,2,0,"th",3),e.YNc(37,le,2,1,"td",4),e.BQk(),e.ynx(38,16),e.YNc(39,pe,2,0,"th",3),e.YNc(40,ue,2,1,"td",4),e.BQk(),e.ynx(41,17),e.YNc(42,me,2,0,"th",3),e.YNc(43,he,2,1,"td",4),e.BQk(),e.ynx(44,18),e.YNc(45,fe,2,0,"th",3),e.YNc(46,ge,2,1,"td",4),e.BQk(),e.YNc(47,_e,1,0,"tr",10),e.YNc(48,Ce,1,0,"tr",11),e.qZA(),e.TgZ(49,"mat-dialog-content"),e.TgZ(50,"div",19),e.TgZ(51,"form",20),e.TgZ(52,"mat-form-field",21),e._UZ(53,"input",22),e.YNc(54,ve,2,1,"mat-error",23),e.qZA(),e.qZA(),e.qZA(),e.TgZ(55,"div",19),e.TgZ(56,"form",20),e.TgZ(57,"mat-form-field",24),e.TgZ(58,"mat-label"),e._uU(59,"Seleccione vendedor"),e.qZA(),e.TgZ(60,"mat-select",25),e.YNc(61,Pe,2,3,"mat-option",26),e.qZA(),e.YNc(62,Te,2,1,"mat-error",23),e.qZA(),e.qZA(),e.qZA(),e.TgZ(63,"div",19),e.TgZ(64,"form",20),e.TgZ(65,"mat-form-field",24),e.TgZ(66,"mat-label"),e._uU(67,"Seleccione repartidor"),e.qZA(),e.TgZ(68,"mat-select",25),e.YNc(69,Ze,2,3,"mat-option",26),e.qZA(),e.YNc(70,xe,2,1,"mat-error",23),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(71,"mat-dialog-actions"),e.TgZ(72,"button",27),e.NdJ("click",function(){return r.createPdf()}),e._uU(73,"PDF"),e.qZA(),e.TgZ(74,"button",28),e._uU(75,"Cancelar"),e.qZA(),e.TgZ(76,"button",29),e.NdJ("click",function(){return r.onSave()}),e._uU(77,"Guardar"),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("dataSource",r.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",r.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",r.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(18,Ae))("pageSize",5),e.xp6(7),e.Q6J("dataSource",r.dataSourceUsuario),e.xp6(19),e.Q6J("matHeaderRowDef",r.displayedColumnsUsuario),e.xp6(1),e.Q6J("matRowDefColumns",r.displayedColumnsUsuario),e.xp6(3),e.Q6J("formGroup",r.ventaForm),e.xp6(3),e.Q6J("ngIf",r.checkFieldVenta("observacion")),e.xp6(2),e.Q6J("formGroup",r.vendedorForm),e.xp6(5),e.Q6J("ngForOf",r.myVendedor),e.xp6(1),e.Q6J("ngIf",r.checkFieldVendedor("user")),e.xp6(2),e.Q6J("formGroup",r.RepartidorForm),e.xp6(5),e.Q6J("ngForOf",r.myRepartidor),e.xp6(1),e.Q6J("ngIf",r.checkFieldRepartidor("user")),e.xp6(6),e.Q6J("mat-dialog-close",!0)("disabled",!r.vendedorForm.valid||!r.RepartidorForm))},directives:[c.BZ,g.YE,c.w1,c.fO,c.Dz,c.as,c.nj,v.NW,k.d,C.xY,p._Y,p.JL,p.sg,Z.KE,p.Fj,w.Nt,p.JJ,p.u,f.O5,Z.hX,B.gD,p.Q7,f.sg,C.H8,O.lW,C.ZT,c.ge,g.nU,c.ev,c.XQ,c.Gk,Z.TO,J.ey],styles:['table[_ngcontent-%COMP%]{width:95%;margin:1rem auto 0;table-layout:fixed}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{overflow:hidden;width:50px;text-overflow:ellipsis;white-space:nowrap}.mat-column-idpedidoproducto[_ngcontent-%COMP%]{flex:none;width:4%}.mat-column-cantidad[_ngcontent-%COMP%]{flex:none;width:4%}.mat-column-precio_uni[_ngcontent-%COMP%]{flex:none;width:5%}.mat-column-precio_total[_ngcontent-%COMP%]{flex:none;width:5%}.mat-column-idproducto[_ngcontent-%COMP%]{flex:none;width:1%}.mat-column-productonombre[_ngcontent-%COMP%]{flex:none;width:10%}.mat-column-descripcion[_ngcontent-%COMP%]{flex:none;width:4%}.search-div[_ngcontent-%COMP%]{margin:10px}.search-form-field[_ngcontent-%COMP%]{width:30%;margin-left:2%}.paginator[_ngcontent-%COMP%]{width:95%}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}th.mat-header-cell[_ngcontent-%COMP%]{background-color:coral;color:#5e22ce;font-weight:bold;font-family:Arial;text-align:left;max-width:300px}.table-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:12px}.detall-pedido[_ngcontent-%COMP%]{font-size:x-large;font-weight:bold;font-family:"Lucida Sans";text-align:center;font-style:normal;color:#00f}.btn-cancel[_ngcontent-%COMP%]{left:45%;top:auto;background-color:#2b6ac9;color:#fff}']}),o})();function be(o,i){1&o&&(e.TgZ(0,"th",20),e._uU(1," ID "),e.qZA())}function Me(o,i){if(1&o&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.idpedido," ")}}function Ne(o,i){1&o&&(e.TgZ(0,"th",20),e._uU(1," COMENTARIO "),e.qZA())}function Ee(o,i){if(1&o&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.comentario," ")}}function Re(o,i){1&o&&(e.TgZ(0,"th",20),e._uU(1," DIRECCI\xd3N "),e.qZA())}function we(o,i){if(1&o&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.direccion," ")}}function Oe(o,i){1&o&&(e.TgZ(0,"th",20),e._uU(1," PRECIO "),e.qZA())}function ye(o,i){if(1&o&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.precio," ")}}function Se(o,i){1&o&&(e.TgZ(0,"th",20),e._uU(1," FECHA "),e.qZA())}function Ie(o,i){if(1&o&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.fecha," ")}}function $e(o,i){1&o&&(e.TgZ(0,"th",20),e._uU(1," HORA "),e.qZA())}function De(o,i){if(1&o&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.hora," ")}}function Fe(o,i){1&o&&(e.TgZ(0,"th",20),e._uU(1," ESTADO "),e.qZA())}function Le(o,i){if(1&o&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.estado," ")}}function Ye(o,i){1&o&&(e.TgZ(0,"th",23),e._uU(1," ACCIONES "),e.qZA())}function qe(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"td",21),e.TgZ(1,"div",0),e.TgZ(2,"button",24),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw().onOpenModal(l)}),e._uU(3,"Detalles"),e.qZA(),e.TgZ(4,"button",25),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw().onDelete(l.idpedido)}),e._uU(5,"Eliminar"),e.qZA(),e.qZA(),e.qZA()}}function Qe(o,i){1&o&&e._UZ(0,"tr",26)}function Ve(o,i){1&o&&e._UZ(0,"tr",27)}const ke=function(){return[5,10,25,100]},Be=[{path:"",component:(()=>{class o{constructor(t,r){this.pedidoService=t,this.dialogProducto=r,this.listaCategoria=[],this.displayedColumns=["idpedido","comentario","direccion","precio","fecha","hora","estado","actions"],this.dataSource=new c.by,this.dataSourceUsuario=new c.by,this.destroy$=new _.xQ,this.applyFilter=n=>{this.dataSource.filter=n.trim().toLocaleLowerCase()},this.pedidoService.listenPedido().subscribe(n=>{console.log("probando----------",n),this.ObtenerListaPedido()})}ngOnInit(){this.ObtenerListaPedido()}ObtenerListaPedido(){this.pedidoService.getTodosPedido().subscribe(t=>{this.dataSource.data=t,console.log("son las pedidos",t),this.dataSource.paginator=this.paginator})}ngAfterViewInit(){this.dataSource.sort=this.sort}onOpenModal(t={}){this.dialogProducto.open(Ue,{height:"600px",width:"1000px",hasBackdrop:!1,data:{title:"Nuevo pedido",pedidos:t}})}onDelete(t){window.confirm("Esta seguro de eliminar")&&this.pedidoService.deletePedido(t).pipe((0,I.R)(this.destroy$)).subscribe(r=>{window.alert(r)})}ngOnDestroy(){this.destroy$.next({}),this.destroy$.complete()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(R),e.Y36(C.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-pedido"]],viewQuery:function(t,r){if(1&t&&(e.Gf(g.YE,5),e.Gf(v.NW,5)),2&t){let n;e.iGM(n=e.CRH())&&(r.sort=n.first),e.iGM(n=e.CRH())&&(r.paginator=n.first)}},decls:33,vars:6,consts:[[1,"table-button-row"],["mat-flat-button","",1,"button-rosado",3,"click"],["appearance","outline","floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Buscar","autocomplete","off",3,"keyup"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","idpedido"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","comentario"],["matColumnDef","direccion"],["mat-cell","","class","center",4,"matCellDef"],["matColumnDef","precio"],["matColumnDef","fecha"],["matColumnDef","hora"],["matColumnDef","estado"],["matColumnDef","actions"],["mat-header-cell","","mat-sort-header","","class","actionCampo",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"paginator",3,"pageSizeOptions","pageSize"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",1,"center"],["mat-header-cell","","mat-sort-header","",1,"actionCampo"],["mat-button","","mat-raised-button","",1,"button-yellow",3,"click"],["mat-button","","mat-raised-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"button",1),e.NdJ("click",function(){return r.onOpenModal()}),e._uU(2,"Poner funcionalidadddd"),e.qZA(),e.TgZ(3,"mat-form-field",2),e.TgZ(4,"input",3),e.NdJ("keyup",function(l){return r.applyFilter(l.target.value)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(5,"table",4),e.ynx(6,5),e.YNc(7,be,2,0,"th",6),e.YNc(8,Me,2,1,"td",7),e.BQk(),e.ynx(9,8),e.YNc(10,Ne,2,0,"th",6),e.YNc(11,Ee,2,1,"td",7),e.BQk(),e.ynx(12,9),e.YNc(13,Re,2,0,"th",6),e.YNc(14,we,2,1,"td",10),e.BQk(),e.ynx(15,11),e.YNc(16,Oe,2,0,"th",6),e.YNc(17,ye,2,1,"td",7),e.BQk(),e.ynx(18,12),e.YNc(19,Se,2,0,"th",6),e.YNc(20,Ie,2,1,"td",7),e.BQk(),e.ynx(21,13),e.YNc(22,$e,2,0,"th",6),e.YNc(23,De,2,1,"td",7),e.BQk(),e.ynx(24,14),e.YNc(25,Fe,2,0,"th",6),e.YNc(26,Le,2,1,"td",7),e.BQk(),e.ynx(27,15),e.YNc(28,Ye,2,0,"th",16),e.YNc(29,qe,6,0,"td",7),e.BQk(),e.YNc(30,Qe,1,0,"tr",17),e.YNc(31,Ve,1,0,"tr",18),e.qZA(),e._UZ(32,"mat-paginator",19)),2&t&&(e.xp6(5),e.Q6J("dataSource",r.dataSource),e.xp6(25),e.Q6J("matHeaderRowDef",r.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",r.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(5,ke))("pageSize",5))},directives:[O.lW,Z.KE,w.Nt,c.BZ,g.YE,c.w1,c.fO,c.Dz,c.as,c.nj,v.NW,c.ge,g.nU,c.ev,c.XQ,c.Gk],styles:["table[_ngcontent-%COMP%]{width:95%;margin:1rem auto 0;table-layout:fixed}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{overflow:hidden;width:50px;text-overflow:ellipsis;white-space:nowrap}.mat-column-idpedido[_ngcontent-%COMP%]{flex:none;width:3%}.mat-column-comentario[_ngcontent-%COMP%]{flex:none;width:20%}.mat-column-direccion[_ngcontent-%COMP%]{flex:none;width:20%}.mat-column-precio[_ngcontent-%COMP%]{flex:none;width:4%}.mat-column-estado[_ngcontent-%COMP%]{flex:none;width:5%}.mat-column-fecha[_ngcontent-%COMP%]{flex:none;width:8%}.mat-column-hora[_ngcontent-%COMP%]{flex:none;width:5%}.search-div[_ngcontent-%COMP%]{margin:10px}.search-form-field[_ngcontent-%COMP%]{width:30%;margin-left:2%}.paginator[_ngcontent-%COMP%]{width:95%}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}th.mat-header-cell[_ngcontent-%COMP%]{background-color:#36be58;color:#5e22ce;font-weight:bold;font-family:Arial;text-align:left;max-width:300px}.button-yellow[_ngcontent-%COMP%]{border:none;border-radius:40px 10px;font-style:italic;font-size:18;font-family:Verdana;font-weight:bold;color:#201f1f;background-color:#1482dcc7}.color-estado[_ngcontent-%COMP%]{border-radius:40px;font-style:italic;font-size:18;font-family:Verdana;font-weight:bold;color:#201f1f;background-color:#dc1478c7}.color-estado[_ngcontent-%COMP%]:hover{border-style:outset;color:#d4e250}.button-yellow[_ngcontent-%COMP%]:hover{border-style:outset;color:#d4e250}.button-rosado[_ngcontent-%COMP%]{color:#fffaf0;background-color:#e014a3;width:15%;left:35px}.table-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:12px}"]}),o})()}];let Je=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[E.Bz.forChild(Be)],E.Bz]}),o})();var Ke=s(8596);let je=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[f.ez,Je,Ke.q]]}),o})()}}]);
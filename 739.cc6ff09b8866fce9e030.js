"use strict";(self.webpackChunkadmincarrito=self.webpackChunkadmincarrito||[]).push([[739],{9739:(B,m,a)=>{a.r(m),a.d(m,{MasvendidosModule:()=>z});var u=a(8583),f=a(4655),r=a(1102),h=a(1777),C=a.t(h,2),s=a(2789),c=a(1494),p=a(4457),g=a(9765),t=a(7716),v=a(8629),M=a(2238),b=a(1095),O=a(8295),T=a(9983);function y(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1," ID "),t._UZ(2,"br"),t._uU(3," PRODUCTO "),t.qZA())}function x(e,n){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.idproducto," ")}}function Z(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1," NOMBRE "),t._UZ(2,"br"),t._uU(3," PRODUCTO "),t.qZA())}function D(e,n){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.nombre," ")}}function S(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1," SUMA PRODUCTO"),t._UZ(2,"br"),t._uU(3," M\xc1S VENDIDOS "),t.qZA())}function P(e,n){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.sumacantidad," ")}}function w(e,n){1&e&&(t.TgZ(0,"th",19),t._uU(1," ACCIONES "),t.qZA())}function U(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"td",17),t.TgZ(1,"div",0),t.TgZ(2,"button",20),t.NdJ("click",function(){const l=t.CHM(o).$implicit;return t.oxw().onOpenModal(l)}),t._uU(3,"Detalles"),t.qZA(),t.qZA(),t.qZA()}}function A(e,n){1&e&&t._UZ(0,"tr",21)}function R(e,n){1&e&&t._UZ(0,"tr",22)}const N=function(){return[5,10,25,100]};r.pp.setFonts(C);const _=[{path:"",component:(()=>{class e{constructor(o,d){this.ventaService=o,this.dialogProducto=d,this.listaCategoria=[],this.displayedColumns=["idproducto","nombre","sumacantidad","actions"],this.dataSource=new s.by,this.dataSourceUsuario=new s.by,this.destroy$=new g.xQ,this.applyFilter=i=>{this.dataSource.filter=i.trim().toLocaleLowerCase()},this.ventaService.listenVenta().subscribe(i=>{console.log("probando----------",i),this.ObtenerListaProductosMasvendidos()})}ngOnInit(){this.ObtenerListaProductosMasvendidos()}ObtenerListaProductosMasvendidos(){this.ventaService.getVentaProductosMasvendidos().subscribe(o=>{this.dataSource.data=o,this.dataSource.paginator=this.paginator})}ngAfterViewInit(){this.dataSource.sort=this.sort}ngOnDestroy(){this.destroy$.next({}),this.destroy$.complete()}createPdf(){const o=new r.pp,d=(0,u.p6)(new Date,"dd-MM-yyyy","en_ES");this.ventaService.getVentaProductosMasvendidos().subscribe(i=>{o.pageMargins([50,60]),o.add(new r.Txt("MICROMARKET HOME SERVICE").bold().fontSize(14).end),o.add("DIRECCI\xd3N: Zona Zenkata"),o.add("\n"),o.add(new r.Txt("FECHA: "+d).alignment("right").fontSize(11).end),o.add("\n"),o.add(new r.Txt("PRODUCTOS M\xc1S VENDIDOS").bold().fontSize(14).end),o.add("\n\n"),o.add(this.createTable(i)),o.add("\n"),o.create().open()})}createTable(o){return new r.Table([["ID PRODUCTO","NOMBRE PRODUCTO","SUMA PRODUCTOS"],...this.extractData(o)]).end}extractData(o){return o.map(d=>[d.idproducto,d.nombre,d.sumacantidad])}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(v.H),t.Y36(M.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-masvendidos"]],viewQuery:function(o,d){if(1&o&&(t.Gf(c.YE,5),t.Gf(p.NW,5)),2&o){let i;t.iGM(i=t.CRH())&&(d.sort=i.first),t.iGM(i=t.CRH())&&(d.paginator=i.first)}},decls:21,vars:6,consts:[[1,"table-button-row"],["mat-flat-button","",1,"button-rosado",3,"click"],["appearance","outline","floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Buscar","autocomplete","off",3,"keyup"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","idproducto"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","sumacantidad"],["mat-cell","","class","center",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","","mat-sort-header","","class","actionCampo",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"paginator",3,"pageSizeOptions","pageSize"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",1,"center"],["mat-header-cell","","mat-sort-header","",1,"actionCampo"],["mat-button","","mat-raised-button","",1,"button-yellow",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,d){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"button",1),t.NdJ("click",function(){return d.createPdf()}),t._uU(2,"CREAR PDF"),t.qZA(),t.TgZ(3,"mat-form-field",2),t.TgZ(4,"input",3),t.NdJ("keyup",function(l){return d.applyFilter(l.target.value)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"table",4),t.ynx(6,5),t.YNc(7,y,4,0,"th",6),t.YNc(8,x,2,1,"td",7),t.BQk(),t.ynx(9,8),t.YNc(10,Z,4,0,"th",6),t.YNc(11,D,2,1,"td",7),t.BQk(),t.ynx(12,9),t.YNc(13,S,4,0,"th",6),t.YNc(14,P,2,1,"td",10),t.BQk(),t.ynx(15,11),t.YNc(16,w,2,0,"th",12),t.YNc(17,U,4,0,"td",7),t.BQk(),t.YNc(18,A,1,0,"tr",13),t.YNc(19,R,1,0,"tr",14),t.qZA(),t._UZ(20,"mat-paginator",15)),2&o&&(t.xp6(5),t.Q6J("dataSource",d.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",d.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",d.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(5,N))("pageSize",5))},directives:[b.lW,O.KE,T.Nt,s.BZ,c.YE,s.w1,s.fO,s.Dz,s.as,s.nj,p.NW,s.ge,c.nU,s.ev,s.XQ,s.Gk],styles:["table[_ngcontent-%COMP%]{width:95%;margin:1rem auto 0;table-layout:fixed}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{overflow:hidden;width:50px;text-overflow:ellipsis;white-space:nowrap}.mat-column-idproducto[_ngcontent-%COMP%]{flex:none;width:10%}.mat-column-nombre[_ngcontent-%COMP%]{flex:none;width:20%}.mat-column-sumacantidad[_ngcontent-%COMP%]{flex:none;width:15%}.search-div[_ngcontent-%COMP%]{margin:10px}.search-form-field[_ngcontent-%COMP%]{width:30%;margin-left:2%}.paginator[_ngcontent-%COMP%]{width:95%}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}th.mat-header-cell[_ngcontent-%COMP%]{background-color:#36be58;color:#5e22ce;font-weight:bold;font-family:Arial;text-align:left;max-width:300px}.button-yellow[_ngcontent-%COMP%]{border:none;border-radius:40px 10px;font-style:italic;font-size:18;font-family:Verdana;font-weight:bold;color:#201f1f;background-color:#1482dcc7}.color-estado[_ngcontent-%COMP%]{border-radius:40px;font-style:italic;font-size:18;font-family:Verdana;font-weight:bold;color:#201f1f;background-color:#dc1478c7}.color-estado[_ngcontent-%COMP%]:hover{border-style:outset;color:#d4e250}.button-yellow[_ngcontent-%COMP%]:hover{border-style:outset;color:#d4e250}.button-rosado[_ngcontent-%COMP%]{color:#fffaf0;background-color:#e014a3;width:15%;left:35px}.table-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:12px}"]}),e})()}];let E=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[f.Bz.forChild(_)],f.Bz]}),e})();var Y=a(8596);let z=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[u.ez,E,Y.q]]}),e})()}}]);